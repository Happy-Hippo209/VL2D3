
    <!DOCTYPE html>
    <html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    </head>
    <body>
        <div id="vis" style="width: 800px; height: 600px;"></div>
        <script>
            var vlSpec = {"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "description": "Horizon Graph with 2 layers. (See https://idl.cs.washington.edu/papers/horizon/ for more details on Horizon Graphs.)", "title": "Average temperature in Oslo, Norway in 2018", "data": {"values": [{"temp": -1.722580645, "date": 1}, {"temp": -4.117857143, "date": 2}, {"temp": -2.3, "date": 3}, {"temp": 6.453333333, "date": 4}, {"temp": 16.09677419, "date": 5}, {"temp": 17.86333333, "date": 6}, {"temp": 22.15806452, "date": 7}, {"temp": 16.29032258, "date": 8}, {"temp": 12.76428571, "date": 9}, {"temp": 7.351612903, "date": 10}, {"temp": 3.353333333, "date": 11}, {"temp": -1.206451613, "date": 12}]}, "height": 300, "width": 300, "layer": [{"transform": [{"calculate": "datum.temp < 0 ? (datum.temp * -1) : datum.temp", "as": "ny0"}], "mark": {"type": "area", "clip": true, "orient": "vertical", "color": "#a1d76a"}, "encoding": {"x": {"field": "date", "type": "ordinal", "scale": {"zero": false, "nice": false}, "axis": {"title": "Month", "labelAngle": 0}}, "y": {"field": "ny0", "type": "quantitative", "scale": {"domain": [0, 25]}, "axis": {"title": "Average temperature in \u00b0C", "tickCount": 5}}, "opacity": {"value": 0.6}, "tooltip": [{"field": "date", "type": "ordinal", "title": "Month"}, {"field": "temp", "type": "quantitative", "title": "Average temperature in \u00b0C"}]}}, {"transform": [{"calculate": "datum.temp > 15 ? datum.temp - 15 : 0", "as": "ny"}], "mark": {"type": "area", "clip": true, "orient": "vertical", "color": "#a1d76a"}, "encoding": {"x": {"field": "date", "type": "ordinal", "axis": {"title": "Month"}}, "y": {"field": "ny", "type": "quantitative", "scale": {"domain": [0, 25]}, "axis": {"title": "Average temperature in \u00b0C", "tickCount": 5}}, "opacity": {"value": 1}, "tooltip": [{"field": "date", "type": "ordinal", "title": "Month"}, {"field": "temp", "type": "quantitative", "title": "Average temperature in \u00b0C"}]}}, {"transform": [{"calculate": "datum.temp < 0 ? (datum.temp * -1) : 0", "as": "ny2"}], "mark": {"type": "area", "clip": true, "orient": "vertical", "color": "#0571b0"}, "encoding": {"x": {"field": "date", "type": "ordinal"}, "y": {"field": "ny2", "type": "quantitative", "scale": {"domain": [0, 25]}}, "opacity": {"value": 1}, "tooltip": [{"field": "date", "type": "ordinal", "title": "Month"}, {"field": "temp", "type": "quantitative", "title": "Average temperature in \u00b0C"}]}}], "config": {"area": {"interpolate": "monotone"}}};
            // Add default size if not specified
            if (!vlSpec.width) vlSpec.width = 800;
            if (!vlSpec.height) vlSpec.height = 600;
            
            vegaEmbed('#vis', vlSpec, {renderer: 'svg'}).then((result) => {{
                const view = result.view;
                // 获取完整的场景图
                const scenegraph = view.scenegraph();
                console.log('SCENEGRAPH_START' + JSON.stringify(scenegraph) + 'SCENEGRAPH_END');
            }}).catch(console.error);
        </script>
    </body>
    </html>
    